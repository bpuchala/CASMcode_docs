---
title: "BasisFunctionSpecs"
permalink: /formats/casm/basis_set/BasisFunctionSpecs/
---

BasisFunctionSpecs control the type and order of basis functions that CASM generates.


### JSON Attributes

- `dofs`: array of string (optional, default= all prim dof keys)

  An array of string of dof type names that should be used to construct basis functions. The default value is all DoF types included in the prim.

- `global_max_poly_order`: int (optional, default=-1)

  See `orbit_branch_max_poly_order` documentation.

- `orbit_branch_max_poly_order`: object (optional, default={})

  By default, for a given cluster orbit, polynomials of order up to the cluster size are created. Higher order polynomials can be requested either on a per-orbit-branch or global basis. The most specific level specified is used. Orbit branches are specified using the string value of the cluster size as a key.

  Example:

      "orbit_branch_max_poly_order": {
          "4": 7    // use maximum polynomial order == 7,
                    // for orbits of cluster size == 4
      },
      "global_max_poly_order": 3, // use max(3, cluster size),
      ...                         // for all other orbits

- `param_pack_type`: string (optional, default="default")

  Specifies the ParamPack type to use when writing the Clexulator. Options are "default" or "diff", which enables `fadbad` automatic differentiating.

- `dof_specs`: object (required for some dofs)

  Provides DoF-particular specifications for constructing basis functions. Not all DoF types require their own DoFSpecs. See documentation for a particular DoF type to determine if it is required.

    For "occ": (required if occupation dof included)

    - `site_basis_functions`: string or array (required)

      Must be one of:

      - "chebychev": For basis functions generated about the random alloy.
      - "occupation": For basis functions generated about the ordered alloy generated by the first occupant listed for every sublattice in the prim structure.
      - An array specifying sublat compositions, for "composition" basis functions generated about an average composition speficified for each sublattice.

        Example sublattice composition specification, for a prim structure with four sublattices and two allowed occupants ("A" and "B") on each sublattice:

            [
              { // composition on sublattices 0 and 1, as listed
              in prim
                "sublat_indices": [0, 1],
                "composition": {"A": 0.25, "B": 0.75}
              },
              { // composition on sublattices 2 and 3, as listed
              in prim
                "sublat_indices": [2, 3],
                "composition": {"A": 0.75, "B": 0.25}
              }
            ]

  For `"<flavor>magspin"`: (optional if `"<flavor>magspin"` dof included)

  - `max_poly_order`: int (optional, default=-1)

    Specifies the maximum polynomial order for site basis functions.


### Examples

#### Example 1) "occupation" site basis functions for "occ" DoF
```
{
  "dof_specs": {
    "occ": {
      "site_basis_functions" : "occupation"
    }
  }
}
```

#### Example 2) "chebychev" site basis functions for "occ" DoF, global maximum polynomial order of 5
```
"global_max_poly_order": 5,
"dof_specs": {
  "occ": {
    "site_basis_functions" : "chebychev"
  }
}
```
